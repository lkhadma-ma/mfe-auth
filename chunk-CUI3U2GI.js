var p=(o,i,t)=>new Promise((l,m)=>{var s=r=>{try{c(t.next(r))}catch(_){m(_)}},f=r=>{try{c(t.throw(r))}catch(_){m(_)}},c=r=>r.done?l(r.value):Promise.resolve(r.value).then(s,f);c((t=t.apply(o,i)).next())});import{inject as w,signal as S}from"@angular/core";import{Router as B}from"@angular/router";import{output as k}from"@angular/core";import{input as y}from"@angular/core";import{output as I}from"@angular/core";import*as a from"@angular/core";var x=["*"],h=class o{clickIn=I();label=y();onClick(){this.clickIn.emit()}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["mfe-auth-button"]],hostAttrs:[1,"mfe-auth-w-full","mfe-auth-justify-center","mfe-auth-flex","mfe-auth-items-center"],inputs:{label:[1,"label"]},outputs:{clickIn:"clickIn"},ngContentSelectors:x,decls:4,vars:1,consts:[["type","button",1,"mfe-auth-w-full","mfe-auth-flex","mfe-auth-items-center","mfe-auth-bg-white","mfe-auth-border","mfe-auth-border-gray-300","mfe-auth-rounded-lg","mfe-auth-shadow-md","mfe-auth-px-6","mfe-auth-py-2","mfe-auth-text-sm","mfe-auth-font-medium","mfe-auth-text-gray-800","hover:mfe-auth-bg-gray-200","focus:mfe-auth-outline-none","focus:mfe-auth-ring-2","focus:mfe-auth-ring-offset-2","focus:mfe-auth-ring-gray-500","mfe-auth-justify-center",3,"click"]],template:function(t,l){t&1&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275domElementStart(0,"button",0),a.\u0275\u0275domListener("click",function(){return l.onClick()}),a.\u0275\u0275projection(1),a.\u0275\u0275domElementStart(2,"span"),a.\u0275\u0275text(3),a.\u0275\u0275domElementEnd()()),t&2&&(a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(l.label()))},encapsulation:2})};import*as u from"@angular/core";var d=class o{clickIn=k();onClick(){this.clickIn.emit()}ngOnInit(){}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=u.\u0275\u0275defineComponent({type:o,selectors:[["app-continue-with"]],hostAttrs:[1,"mfe-auth-w-full","mfe-auth-justify-center","mfe-auth-flex","mfe-auth-items-center"],outputs:{clickIn:"clickIn"},decls:6,vars:1,consts:[[3,"clickIn","label"],["viewBox","0 0 48 48","xmlns","http://www.w3.org/2000/svg",1,"mfe-auth-h-6","mfe-auth-w-6","mfe-auth-mr-2"],["d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z","fill","#FFC107"],["d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z","fill","#FF3D00"],["d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z","fill","#4CAF50"],["d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z","fill","#1976D2"]],template:function(t,l){t&1&&(u.\u0275\u0275elementStart(0,"mfe-auth-button",0),u.\u0275\u0275listener("clickIn",function(){return l.onClick()}),u.\u0275\u0275namespaceSVG(),u.\u0275\u0275elementStart(1,"svg",1),u.\u0275\u0275element(2,"path",2)(3,"path",3)(4,"path",4)(5,"path",5),u.\u0275\u0275elementEnd()()),t&2&&u.\u0275\u0275property("label","Continue with Google")},dependencies:[h],encapsulation:2})};import{input as W,output as D}from"@angular/core";import*as e from"@angular/core";var g=class o{clickIn=D();profile=W();onClick(){this.clickIn.emit()}ngOnInit(){}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-continue-with-profile"]],hostAttrs:[1,"mfe-auth-w-full","mfe-auth-justify-center","mfe-auth-flex","mfe-auth-items-center"],inputs:{profile:[1,"profile"]},outputs:{clickIn:"clickIn"},decls:9,vars:4,consts:[["type","button",1,"mfe-auth-w-full","mfe-auth-flex","mfe-auth-items-center","mfe-auth-bg-white","mfe-auth-border","mfe-auth-border-gray-300","mfe-auth-rounded-lg","mfe-auth-shadow-md","mfe-auth-px-6","mfe-auth-py-2","mfe-auth-text-sm","mfe-auth-font-medium","mfe-auth-text-gray-800","hover:mfe-auth-bg-gray-200","focus:mfe-auth-outline-none","focus:mfe-auth-ring-2","focus:mfe-auth-ring-offset-2","focus:mfe-auth-ring-gray-500","mfe-auth-justify-center",3,"click"],["alt","",1,"mfe-auth-h-16","mfe-auth-w-16","mfe-auth-mr-2","mfe-auth-rounded-full","object-cover",3,"src","alt"],[1,"mfe-auth-flex","mfe-auth-flex-col","mfe-auth-items-start","mfe-auth-text-left"],[1,"mfe-auth-font-bold"],[1,"mfe-auth-text-sm"],[1,"mfe-auth-text-xs"]],template:function(t,l){if(t&1&&(e.\u0275\u0275domElementStart(0,"button",0),e.\u0275\u0275domListener("click",function(){return l.onClick()}),e.\u0275\u0275domElement(1,"img",1),e.\u0275\u0275domElementStart(2,"div",2)(3,"span",3),e.\u0275\u0275text(4),e.\u0275\u0275domElementEnd(),e.\u0275\u0275domElementStart(5,"span",4),e.\u0275\u0275text(6),e.\u0275\u0275domElementEnd(),e.\u0275\u0275domElementStart(7,"span",5),e.\u0275\u0275text(8,"Continue with Google"),e.\u0275\u0275domElementEnd()()()),t&2){let m,s,f,c;e.\u0275\u0275advance(),e.\u0275\u0275domProperty("src",(m=l.profile())==null?null:m.photoURL,e.\u0275\u0275sanitizeUrl)("alt",(s=l.profile())==null?null:s.name),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate((f=l.profile())==null?null:f.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate((c=l.profile())==null?null:c.email)}},encapsulation:2})};import{inject as E}from"@angular/core";import{Auth as U,signInWithPopup as j,GoogleAuthProvider as G,signOut as M,authState as P}from"@angular/fire/auth";import*as b from"@angular/core";var C=class o{auth=E(U);user$=P(this.auth);loginWithGoogle(){return p(this,null,function*(){let i=new G;return(yield j(this.auth,i)).user})}logout(){return M(this.auth)}currentUser(){return this.auth.currentUser}static \u0275fac=function(t){return new(t||o)};static \u0275prov=b.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"})};import*as n from"@angular/core";function N(o,i){if(o&1){let t=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"app-continue-with-profile",1),n.\u0275\u0275listener("clickIn",function(){n.\u0275\u0275restoreView(t);let m=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(m.continueWithGoogle())}),n.\u0275\u0275elementEnd()}if(o&2){let t=n.\u0275\u0275nextContext();n.\u0275\u0275property("profile",t.profile())}}function O(o,i){if(o&1){let t=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"app-continue-with",2),n.\u0275\u0275listener("clickIn",function(){n.\u0275\u0275restoreView(t);let m=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(m.continueWithGoogle())}),n.\u0275\u0275elementEnd()}}var v=class o{router=w(B);auth=w(C);profile=S({name:"",email:"",photoURL:""});ngOnInit(){this.auth.user$.subscribe(i=>{i?this.profile.set({name:i.displayName??"",email:i.email??"",photoURL:i.photoURL??""}):this.profile.set({name:"",email:"",photoURL:""})})}continueWithGoogle(){return p(this,null,function*(){let i=yield this.auth.loginWithGoogle();this.profile.set({name:i.displayName??"",email:i.email??"",photoURL:i.photoURL??""}),this.router.navigate(["home"])})}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=n.\u0275\u0275defineComponent({type:o,selectors:[["btn-continue-with-google"]],hostAttrs:[1,"mfe-auth-w-full","mfe-auth-justify-center","mfe-auth-flex","mfe-auth-items-center"],decls:2,vars:1,consts:[[3,"profile"],[3,"clickIn","profile"],[3,"clickIn"]],template:function(t,l){t&1&&n.\u0275\u0275conditionalCreate(0,N,1,1,"app-continue-with-profile",0)(1,O,1,0,"app-continue-with"),t&2&&n.\u0275\u0275conditional(l.profile().email?0:1)},dependencies:[d,g],encapsulation:2})};export{p as a,h as b,v as c};
